<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Boss Project Master | Project Mico</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            /* â–  Primary Colors */
            --mico-rose: #f06292;
            --mico-sakura: #ff85a1;
            --mico-aurora: #ff7c98;
            
            /* â–  Neutral Colors */
            --deep-cocoa: #5d4046;
            --warm-taupe: #8a6d74;
            --snow-pink: #fff5f7;
            --mist-pink: #ffd1dc;
            
            /* â–  System Colors (Blueprintç”¨) */
            --sys-slack: #4A154B;
            --sys-cloud: #4285F4;
            --sys-ai: #9C27B0;
            --sys-db: #3ECF8E;
            --sys-role-po: #ffe0b2;
            --sys-role-km: #c8e6c9;
            --sys-role-eng: #bbdefb;
            
            /* Font */
            --font-en: 'Quicksand', sans-serif;
            --font-jp: "Hiragino Kaku Gothic ProN", "Hiragino Sans", sans-serif;
            
            /* Gradient */
            --aurora-gradient: linear-gradient(45deg, var(--mico-sakura), #ffb7b2);
        }

        body {
            font-family: var(--font-jp);
            background-color: var(--snow-pink);
            color: var(--deep-cocoa);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            background-image: radial-gradient(var(--mist-pink) 1px, transparent 1px);
            background-size: 30px 30px; /* Starry Dust */
        }

        h1, h2, h3, .percent-text, .section-title {
            font-family: var(--font-en);
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding-bottom: 80px;
        }

        /* --- Header --- */
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.75);
            backdrop-filter: blur(10px);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.8);
            box-shadow: 0 8px 32px rgba(240, 98, 146, 0.1);
        }

        h1 {
            color: var(--mico-rose);
            margin: 0;
            font-size: 2.2rem;
            letter-spacing: 0.05em;
        }

        p.subtitle {
            color: var(--warm-taupe);
            margin-top: 10px;
            font-size: 1rem;
        }

        /* --- Action Button (New) --- */
        .action-area {
            margin-top: 20px;
        }
        .copy-btn {
            background: white;
            color: var(--mico-rose);
            border: 2px solid var(--mico-rose);
            padding: 10px 25px;
            border-radius: 50px;
            font-weight: bold;
            cursor: pointer;
            font-size: 0.9rem;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s ease;
        }
        .copy-btn:hover {
            background: var(--mico-rose);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(240, 98, 146, 0.3);
        }
        .copy-btn:active {
            transform: translateY(0);
        }

        /* --- Navigation Tabs --- */
        .nav-tabs {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .nav-btn {
            padding: 12px 30px;
            border-radius: 50px;
            border: none;
            font-family: var(--font-en);
            font-weight: bold;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

        .nav-btn.active {
            background: var(--aurora-gradient);
            color: white;
            box-shadow: 0 8px 20px rgba(255, 133, 161, 0.4);
            transform: translateY(-2px);
        }

        .nav-btn.inactive {
            background: white;
            color: var(--warm-taupe);
            border: 1px solid var(--mist-pink);
        }

        .nav-btn.inactive:hover {
            background: var(--snow-pink);
            color: var(--mico-rose);
        }

        /* --- Section Styling --- */
        .main-section {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        .main-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* --- Progress Chart --- */
        .chart-container {
            position: relative;
            width: 150px;
            height: 150px;
            margin: 20px auto;
        }
        
        svg {
            transform: rotate(-90deg);
            width: 100%;
            height: 100%;
        }

        circle {
            fill: none;
            stroke-width: 12;
            stroke-linecap: round;
        }

        .bg-circle { stroke: var(--mist-pink); }

        .progress-circle {
            stroke: url(#gradient);
            stroke-dasharray: 440;
            stroke-dashoffset: 440;
            transition: stroke-dashoffset 1s ease-in-out;
        }

        .percent-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 2rem;
            font-weight: bold;
            color: var(--deep-cocoa);
        }

        /* --- Cards (Common) --- */
        .mico-card {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 24px;
            padding: 30px;
            margin-bottom: 24px;
            border: 1px solid var(--mist-pink);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .mico-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(240, 98, 146, 0.1);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            border-bottom: 2px dashed var(--mist-pink);
            padding-bottom: 15px;
        }

        .card-title {
            font-size: 1.3rem;
            color: var(--deep-cocoa);
            font-weight: bold;
            font-family: var(--font-en);
        }

        .card-badge {
            background: var(--snow-pink);
            color: var(--mico-aurora);
            padding: 4px 12px;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: bold;
            font-family: var(--font-en);
            border: 1px solid var(--mist-pink);
        }

        /* --- Roadmap Specifics --- */
        .task-list { list-style: none; padding: 0; margin: 0; }
        .task-item {
            display: flex; align-items: center; padding: 10px 0;
            cursor: pointer; transition: color 0.3s;
        }
        .task-item:hover {
            background-color: rgba(255, 245, 247, 0.5);
            border-radius: 8px;
        }
        .custom-checkbox {
            appearance: none; width: 24px; height: 24px;
            border: 2px solid var(--mist-pink); border-radius: 8px;
            margin-right: 15px; position: relative; cursor: pointer; flex-shrink: 0;
            background-color: #fff; transition: all 0.3s ease;
        }
        .custom-checkbox:checked {
            background-color: var(--mico-sakura); border-color: var(--mico-sakura);
        }
        .custom-checkbox:checked::after {
            content: 'âœ¨'; position: absolute; top: 50%; left: 50%;
            transform: translate(-50%, -50%); font-size: 14px; color: white;
        }
        .task-label { font-size: 1rem; color: var(--deep-cocoa); }
        .task-item.completed .task-label {
            color: var(--warm-taupe); text-decoration: line-through; opacity: 0.7;
        }

        /* --- Blueprint Specifics (Design System) --- */
        
        /* 1. Architecture */
        .architecture {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            align-items: center;
            text-align: center;
        }
        .arch-item {
            padding: 20px;
            border-radius: 16px;
            border: 2px solid transparent;
            font-weight: bold;
        }
        .arch-slack { border-color: var(--sys-slack); background: #fdf5fd; color: var(--sys-slack); }
        .arch-cloud { border-color: var(--sys-cloud); background: #f0f7ff; color: var(--sys-cloud); }
        .arch-ai { border-color: var(--sys-ai); background: #fcf2fd; color: var(--sys-ai); }
        .arch-db { border-color: var(--sys-db); background: #f0fdf9; color: #2e7d32; }
        
        .arch-backend { display: flex; flex-direction: column; gap: 15px; }
        .arch-arrow { font-size: 24px; color: var(--mico-sakura); font-weight: bold; }

        /* 2. Logic Flow */
        .flow-steps {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            flex-wrap: wrap;
            gap: 15px;
        }
        .step {
            flex: 1;
            min-width: 160px;
            padding: 15px;
            background: #fff;
            border: 1px solid var(--mist-pink);
            border-radius: 16px;
            font-size: 0.9em;
            box-shadow: 0 4px 6px rgba(0,0,0,0.02);
        }
        .step-title { font-weight: bold; margin-bottom: 8px; display: block; color: var(--deep-cocoa); }
        .step-number {
            display: inline-block; width: 24px; height: 24px;
            background: var(--mico-rose); color: #fff;
            border-radius: 50%; text-align: center; line-height: 24px;
            margin-right: 5px; font-size: 0.8em;
        }
        /* Border colors for steps */
        .step.s-slack { border-top: 4px solid var(--sys-slack); }
        .step.s-ai { border-top: 4px solid var(--sys-ai); }
        .step.s-db { border-top: 4px solid var(--sys-db); }

        /* 3. DB Schema */
        .db-schema { overflow-x: auto; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; }
        th, td { border: 1px solid var(--mist-pink); padding: 12px; text-align: left; }
        th { background-color: var(--snow-pink); color: var(--deep-cocoa); }
        .tag {
            display: inline-block; padding: 2px 8px; border-radius: 4px;
            font-size: 0.8em; font-weight: bold; color: white;
        }
        .tag-core { background-color: var(--mico-rose); } 
        .tag-ai { background-color: var(--sys-ai); }
        .tag-sec { background-color: var(--sys-db); }

        /* 4. Roles */
        .roles-container {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px;
        }
        .role-card {
            border: 1px solid var(--mist-pink); border-radius: 16px; overflow: hidden; background: #fff;
        }
        .role-header { padding: 15px; text-align: center; border-bottom: 1px solid var(--mist-pink); }
        .role-header h3 { margin: 0; font-size: 1.2em; color: var(--deep-cocoa); }
        .role-header span { font-size: 0.9em; color: var(--warm-taupe); display: block; margin-top: 5px; }
        
        .role-po .role-header { background-color: var(--sys-role-po); }
        .role-km .role-header { background-color: var(--sys-role-km); }
        .role-eng .role-header { background-color: var(--sys-role-eng); }
        
        .role-body { padding: 15px; }
        .role-body ul { margin: 0; padding-left: 20px; font-size: 0.9em; margin-bottom: 15px; }
        .role-body li { margin-bottom: 5px; }
        
        .tool-list { display: flex; flex-wrap: wrap; gap: 8px; }
        .tool-badge {
            background: var(--snow-pink); color: var(--deep-cocoa); padding: 4px 8px;
            border-radius: 6px; font-size: 0.8em; font-weight: bold; border: 1px solid var(--mist-pink);
        }

        .note {
            background-color: #fffde7;
            padding: 15px; border-radius: 12px; margin-top: 15px;
            font-size: 0.9em; border: 1px solid #fff9c4; color: #f57f17;
        }

        /* Footer */
        .footer-note {
            text-align: center; font-size: 0.8rem; color: var(--warm-taupe);
            margin-top: 40px;
        }

        /* Toast Notification */
        #toast {
            visibility: hidden;
            min-width: 250px;
            background-color: #333;
            color: #fff;
            text-align: center;
            border-radius: 50px;
            padding: 16px;
            position: fixed;
            z-index: 1;
            left: 50%;
            bottom: 30px;
            transform: translateX(-50%);
            font-size: 1rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        #toast.show {
            visibility: visible;
            animation: fadein 0.5s, fadeout 0.5s 2.5s;
        }
        @keyframes fadein {
            from {bottom: 0; opacity: 0;}
            to {bottom: 30px; opacity: 1;}
        }
        @keyframes fadeout {
            from {bottom: 30px; opacity: 1;}
            to {bottom: 0; opacity: 0;}
        }

        /* Responsive */
        @media (max-width: 768px) {
            .architecture { grid-template-columns: 1fr; }
            .arch-arrow { transform: rotate(90deg); margin: 10px 0; }
            .arch-backend { flex-direction: row; justify-content: center; }
            .arch-backend .arch-arrow { transform: rotate(0deg); margin: 0 10px; }
        }

    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>AI Boss Project Master</h1>
        <p class="subtitle">é–‹ç™ºé€²æ— & ã‚·ã‚¹ãƒ†ãƒ è¨­è¨ˆå›³ã‚’ä¸€å…ƒç®¡ç†</p>
        
        <div class="chart-container">
            <svg>
                <defs>
                    <linearGradient id="gradient" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%" stop-color="#ff85a1" />
                        <stop offset="100%" stop-color="#ff7c98" />
                    </linearGradient>
                </defs>
                <circle cx="75" cy="75" r="70" class="bg-circle"></circle>
                <circle cx="75" cy="75" r="70" class="progress-circle" id="progressCircle"></circle>
            </svg>
            <div class="percent-text" id="percentText">0%</div>
        </div>
        
        <div class="action-area">
            <button class="copy-btn" onclick="copySpecs()">
                <span>ğŸ“„</span> å®Œå…¨ç‰ˆãƒ»è¨­è¨ˆä»•æ§˜æ›¸ã‚’ã‚³ãƒ”ãƒ¼
            </button>
        </div>
        <p style="margin-top:15px; color: var(--mico-rose); font-weight: bold; font-family: var(--font-en);">Let's make magic! âœ¨</p>
    </header>

    <!-- Navigation -->
    <div class="nav-tabs">
        <button class="nav-btn active" onclick="switchTab('roadmap')">ğŸ›  Roadmap</button>
        <button class="nav-btn inactive" onclick="switchTab('blueprint')">ğŸ“ Blueprint</button>
    </div>

    <!-- ============================================== -->
    <!-- SECTION 1: ROADMAP (Development Progress)      -->
    <!-- ============================================== -->
    <div id="section-roadmap" class="main-section active">
        
        <!-- Phase 0 -->
        <div class="mico-card">
            <div class="card-header">
                <div class="card-title">Phase 0: æº–å‚™ (Setup)</div>
                <div class="card-badge">Start Here</div>
            </div>
            <ul class="task-list">
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">GCPã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ & ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ</span></label>
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">Supabaseã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œæˆ & ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ</span></label>
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">Slackãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ (ãƒ†ã‚¹ãƒˆç”¨) ä½œæˆ</span></label>
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">VS Code ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</span></label>
            </ul>
        </div>

        <!-- Phase 1 -->
        <div class="mico-card">
            <div class="card-header">
                <div class="card-title">Phase 1: ã‚ªã‚¦ãƒ è¿”ã—Bot</div>
                <div class="card-badge">3-5 Days</div>
            </div>
            <ul class="task-list">
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">Slack Appä½œæˆ & Tokenå–å¾—</span></label>
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">Pythonã§ã€Œã‚ªã‚¦ãƒ è¿”ã—ã€ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã (Local)</span></label>
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">Cloud Runã¸ãƒ‡ãƒ—ãƒ­ã‚¤</span></label>
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">Slackã§ç–é€šç¢ºèª (Hello World!)</span></label>
            </ul>
        </div>

        <!-- Phase 2 -->
        <div class="mico-card">
            <div class="card-header">
                <div class="card-title">Phase 2: AIã¨è©±ã™ (Gemini Integration)</div>
                <div class="card-badge">2-3 Days</div>
            </div>
            <ul class="task-list">
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">GCPã§ Vertex AI API ã‚’æœ‰åŠ¹åŒ–</span></label>
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">ã‚³ãƒ¼ãƒ‰ä¿®æ­£: Gemini APIã‚’å‘¼ã³å‡ºã™</span></label>
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">Slackã§AIã¨é›‘è«‡ãƒ†ã‚¹ãƒˆ</span></label>
            </ul>
        </div>

        <!-- Phase 3 -->
        <div class="mico-card">
            <div class="card-header">
                <div class="card-title">Phase 3: è¨˜æ†¶ã‚’ä½œã‚‹ (Database)</div>
                <div class="card-badge">3-5 Days</div>
            </div>
            <ul class="task-list">
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">Supabaseã§ãƒ†ãƒ¼ãƒ–ãƒ«ä½œæˆ (SQLå®Ÿè¡Œ)</span></label>
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">ãƒ†ã‚¹ãƒˆç”¨ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ãƒ‡ãƒ¼ã‚¿ã®æŠ•å…¥ (æ‰‹å‹•)</span></label>
            </ul>
        </div>

        <!-- Phase 4 -->
        <div class="mico-card">
            <div class="card-header">
                <div class="card-title">Phase 4: æ¤œç´¢ã•ã›ã‚‹ (RAG Logic)</div>
                <div class="card-badge">5-7 Days</div>
            </div>
            <ul class="task-list">
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">Python: è³ªå•ã®ãƒ™ã‚¯ãƒˆãƒ«åŒ–å‡¦ç†å®Ÿè£…</span></label>
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">Python: Supabaseæ¤œç´¢ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…</span></label>
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">Python: æ¤œç´¢çµæœã‚’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã«åŸ‹ã‚è¾¼ã‚€</span></label>
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">Slackã§ãƒãƒ‹ãƒ¥ã‚¢ãƒ«å›ç­”ãƒ†ã‚¹ãƒˆ</span></label>
            </ul>
        </div>

        <!-- Phase 5 -->
        <div class="mico-card">
            <div class="card-header">
                <div class="card-title">Phase 5: äººæ ¼ã‚’å…¥ã‚Œã‚‹ (Persona)</div>
                <div class="card-badge">2-3 Days</div>
            </div>
            <ul class="task-list">
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">ä¸Šå¸10äººã®äººæ ¼JSONä½œæˆ</span></label>
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">ä¸Šå¸åˆ‡ã‚Šæ›¿ãˆãƒ­ã‚¸ãƒƒã‚¯å®Ÿè£…</span></label>
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">ç”»åƒURLã®è¡¨ç¤ºå‡¦ç†å®Ÿè£…</span></label>
                <label class="task-item"><input type="checkbox" class="custom-checkbox" onchange="updateProgress()"><span class="task-label">æœ€çµ‚å‹•ä½œç¢ºèª & ãƒªãƒªãƒ¼ã‚¹ï¼ğŸ‰</span></label>
            </ul>
        </div>
    </div>

    <!-- ============================================== -->
    <!-- SECTION 2: BLUEPRINT (System Design)           -->
    <!-- ============================================== -->
    <div id="section-blueprint" class="main-section">
        
        <!-- 1. Architecture -->
        <div class="mico-card">
            <div class="card-header">
                <div class="card-title">1. ã‚·ã‚¹ãƒ†ãƒ å…¨ä½“æ§‹æˆ (Architecture)</div>
            </div>
            <div class="architecture">
                <div class="arch-item arch-slack">
                    <h3>Slack</h3>
                    <p>ãƒ¦ãƒ¼ã‚¶ãƒ¼ / UI</p>
                </div>
                <div class="arch-arrow">â¡ Webhook â¡</div>
                <div class="arch-item arch-cloud">
                    <h3>Cloud Run</h3>
                    <p>å¸ä»¤å¡” (Python)</p>
                </div>
                <div class="arch-backend">
                    <div class="arch-arrow" style="transform: rotate(90deg);">â¬†â¬‡</div>
                    <div class="arch-item arch-ai">
                        <h3>ğŸ§  Vertex AI</h3>
                        <p>æ„å›³è§£æãƒ»ç”Ÿæˆ</p>
                    </div>
                    <div class="arch-item arch-db">
                        <h3>ğŸ“š Supabase</h3>
                        <p>çŸ¥è­˜ãƒ»æ¤œç´¢</p>
                    </div>
                </div>
            </div>
            <div class="note">
                <strong>Point:</strong> è„³ï¼ˆGeminiï¼‰ã¨è¨˜æ†¶ï¼ˆSupabaseï¼‰ã‚’åˆ†ã‘ã€çœŸã‚“ä¸­ã®Cloud RunãŒã€Œã„ã¤æ¤œç´¢ã™ã‚‹ã‹ã€ã€Œèª°ã«ç­”ãˆã•ã›ã‚‹ã‹ã€ã‚’åˆ¶å¾¡ã—ã¾ã™ã€‚
            </div>
        </div>

        <!-- 2. Logic Flow -->
        <div class="mico-card">
            <div class="card-header">
                <div class="card-title">2. è³¢ã„å›ç­”ã‚’ä½œã‚‹ãƒ•ãƒ­ãƒ¼ (The Logic Flow)</div>
            </div>
            <div class="flow-steps">
                <div class="step s-slack">
                    <span class="step-title"><span class="step-number">1</span>å—ä¿¡</span>
                    Slackã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å—ä¿¡ã€‚<br>Cloud Runèµ·å‹•ã€‚
                </div>
                <div class="step s-ai">
                    <span class="step-title"><span class="step-number">2</span>æ„å›³è§£æ</span>
                    Gemini:ã€Œã“ã‚Œã¯ãƒãƒ‹ãƒ¥ã‚¢ãƒ«æ¤œç´¢ï¼Ÿã€<br>â†’ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æŠ½å‡ºã€‚
                </div>
                <div class="step s-db">
                    <span class="step-title"><span class="step-number">3</span>ãƒ•ã‚£ãƒ«ã‚¿æ¤œç´¢</span>
                    Supabase: <strong>doc_type</strong> ã¨ <strong>visibility</strong> ã§çµã‚Šè¾¼ã¿ã€‚
                </div>
                <div class="step s-ai">
                    <span class="step-title"><span class="step-number">4</span>å›ç­”ç”Ÿæˆ</span>
                    Gemini: æ¤œç´¢çµæœ+æ€§æ ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã§ç”Ÿæˆã€‚
                </div>
                <div class="step s-slack">
                    <span class="step-title"><span class="step-number">5</span>è¿”ä¿¡</span>
                    Slack: ãƒ†ã‚­ã‚¹ãƒˆ+ç”»åƒURLã‚’æŠ•ç¨¿ã€‚
                </div>
            </div>
        </div>

        <!-- 3. DB Schema -->
        <div class="mico-card">
            <div class="card-header">
                <div class="card-title">3. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ (Schema: knowledge_base)</div>
            </div>
            <div class="db-schema">
                <table>
                    <thead>
                        <tr><th>ã‚«ãƒ©ãƒ å</th><th>é‡è¦åº¦</th><th>å½¹å‰²</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><strong>id</strong></td><td>å¿…é ˆ</td><td>UUID (è‡ªå‹•)</td></tr>
                        <tr><td><strong>content</strong></td><td><span class="tag tag-ai">AIç”¨</span></td><td>ãƒãƒ‹ãƒ¥ã‚¢ãƒ«æœ¬æ–‡ (ãƒãƒ£ãƒ³ã‚¯)</td></tr>
                        <tr><td><strong>embedding</strong></td><td><span class="tag tag-ai">AIç”¨</span></td><td>ãƒ™ã‚¯ãƒˆãƒ«æ•°å€¤</td></tr>
                        <tr style="background-color: #fff9c4;"><td><strong>doc_type</strong></td><td><span class="tag tag-core">CORE</span></td><td><code>manual</code>, <code>rule</code>, <code>faq</code></td></tr>
                        <tr style="background-color: #fff9c4;"><td><strong>visibility</strong></td><td><span class="tag tag-core">CORE</span></td><td><code>all</code>, <code>manager</code></td></tr>
                        <tr><td><strong>title</strong></td><td>è¡¨ç¤ºç”¨</td><td>å‡ºå…¸ã‚¿ã‚¤ãƒˆãƒ«</td></tr>
                        <tr><td><strong>image_url</strong></td><td>è¡¨ç¤ºç”¨</td><td>å›³è§£ç”»åƒã®ãƒªãƒ³ã‚¯</td></tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- 4. Team Roles -->
        <div class="mico-card">
            <div class="card-header">
                <div class="card-title">4. ãƒãƒ¼ãƒ ç·¨æˆ (Roles)</div>
            </div>
            <div class="roles-container">
                <div class="role-card role-po">
                    <div class="role-header"><h3>ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚ªãƒ¼ãƒŠãƒ¼</h3><span>ç›£ç£ãƒ»æ„æ€æ±ºå®š</span></div>
                    <div class="role-body">
                        <ul><li>äººæ ¼å®šç¾©</li><li>KPIç®¡ç†</li><li>ãƒ«ãƒ¼ãƒ«ç­–å®š</li></ul>
                        <div class="tool-list"><span class="tool-badge">Slack</span><span class="tool-badge">Docs</span></div>
                    </div>
                </div>
                <div class="role-card role-km">
                    <div class="role-header"><h3>ãƒŠãƒ¬ãƒƒã‚¸ç®¡ç†è€…</h3><span>é£¼è‚²å“¡ãƒ»ãƒ‡ãƒ¼ã‚¿æ•´å‚™</span></div>
                    <div class="role-body">
                        <ul><li>ãƒ‡ãƒ¼ã‚¿å…¥åŠ›</li><li>å›ç­”è©•ä¾¡</li><li>ç”»åƒç®¡ç†</li></ul>
                        <div class="tool-list"><span class="tool-badge">Sheets</span><span class="tool-badge">Drive</span></div>
                    </div>
                </div>
                <div class="role-card role-eng">
                    <div class="role-header"><h3>AIã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢</h3><span>æ•´å‚™å£«ãƒ»ã‚·ã‚¹ãƒ†ãƒ ä¿å®ˆ</span></div>
                    <div class="role-body">
                        <ul><li>ã‚³ãƒ¼ãƒ‰ä¿å®ˆ</li><li>ã‚¤ãƒ³ãƒ•ãƒ©ç›£è¦–</li><li>åŒæœŸå‡¦ç†</li></ul>
                        <div class="tool-list"><span class="tool-badge">VS Code</span><span class="tool-badge">Supabase</span></div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <div class="footer-note">
        Your progress is automatically saved in this browser. <br>
        Create with Love & Logic.
    </div>

    <div id="toast">ğŸ“‹ ä»•æ§˜æ›¸ã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼</div>
</div>

<script>
    // --- SPECIFICATION TEXT (For Copy) ---
    const fullSpecs = `
# ğŸš€ AIä¸Šå¸ã‚·ã‚¹ãƒ†ãƒ  (Project Mico) å®Œå…¨è¨­è¨ˆä»•æ§˜æ›¸ v1.0

## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
Slackä¸Šã§å‹•ä½œã™ã‚‹ã€æ¥­å‹™æ”¯æ´å‹AIãƒœãƒƒãƒˆã€‚
10åç¨‹åº¦ã®ä¸Šå¸ï¼ˆç•°ãªã‚‹äººæ ¼ï¼‰ã‚’åˆ‡ã‚Šæ›¿ãˆã¦åˆ©ç”¨ã§ãã€ç¤¾å†…ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚„ç”»åƒã‚’å‚ç…§ã—ã¦æ­£ç¢ºã«æ¥­å‹™æŒ‡ç¤ºã‚’è¡Œã†ã‚·ã‚¹ãƒ†ãƒ ã€‚

---

## 2. ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ (Architecture)
ã€Œè„³ï¼ˆæ€è€ƒï¼‰ã€ã¨ã€Œè¨˜æ†¶ï¼ˆãƒ‡ãƒ¼ã‚¿ï¼‰ã€ã‚’åˆ†é›¢ã—ã€Pythonã‚µãƒ¼ãƒãƒ¼ãŒåˆ¶å¾¡ã™ã‚‹æ§‹æˆã¨ã™ã‚‹ã€‚

### æ§‹æˆè¦ç´ 
1. **Frontend (UI):** Slack
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã€‚ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ãŠã‚ˆã³ç”»åƒè¡¨ç¤ºã‚’è¡Œã†ã€‚
2. **Backend (Controller):** Google Cloud Run
   - Python + Slack Bolt frameworkã€‚
   - Slackã‹ã‚‰ã®Webhookã‚’å—ã‘å–ã‚Šã€AIã¨DBã‚’åˆ¶å¾¡ã™ã‚‹å¸ä»¤å¡”ã€‚
3. **Brain (AI):** Vertex AI (Gemini 1.5 Pro)
   - æ„å›³è§£æ (Intent Classification) ã¨å›ç­”ç”Ÿæˆ (Generation) ã‚’æ‹…å½“ã€‚
4. **Memory (Database):** Supabase (PostgreSQL)
   - ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ãƒ‡ãƒ¼ã‚¿ã€ãƒ™ã‚¯ãƒˆãƒ«ãƒ‡ãƒ¼ã‚¿ã€ç”»åƒURLã®ä¿ç®¡å ´æ‰€ã€‚
   - ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ (pgvector) ã‚’ä½¿ç”¨ã€‚

---

## 3. COREè¨­è¨ˆåŸå‰‡ (çµ¶å¯¾éµå®ˆäº‹é …)
æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ‹¡å¼µæ€§ã¨å …ç‰¢æ€§ã‚’æ‹…ä¿ã™ã‚‹ãŸã‚ã®æœ€é‡è¦ãƒ«ãƒ¼ãƒ«ã€‚

1. **æ§‹é€ åŒ–ã®å¾¹åº• (Structure over Unstructured)**
   - ãƒãƒ‹ãƒ¥ã‚¢ãƒ«ã‚’AIã«ä¸¸æŠ•ã’ã›ãšã€å¿…ãšã€Œãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ä»˜ãã‚«ãƒ¼ãƒ‰ï¼ˆJSONï¼‰ã€ã¨ã—ã¦ç®¡ç†ã™ã‚‹ã€‚
   - ãƒ†ã‚­ã‚¹ãƒˆã¨ç”»åƒURLã‚’ç´ä»˜ã‘ã¦ä¿å­˜ã—ã€AIã«ã‚ˆã‚‹ç”»åƒç”Ÿæˆï¼ˆãƒãƒ«ã‚·ãƒãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ã‚’é˜²ãã€‚
2. **æ±ºå®šè«–çš„ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ (Deterministic RAG)**
   - èª°ãŒè¦‹ã¦è‰¯ã„æƒ…å ±ã‹ã¯ã€AIã®åˆ¤æ–­ã§ã¯ãªãã€DBã‚¯ã‚¨ãƒªæ™‚ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã§ç‰©ç†çš„ã«åˆ¶å¾¡ã™ã‚‹ã€‚
3. **ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã®ç¢ºä¿**
   - çŸ¥è­˜ãƒ‡ãƒ¼ã‚¿ã¯å¤–éƒ¨DB (Supabase) ã«åˆ‡ã‚Šå‡ºã—ã€AIãƒ¢ãƒ‡ãƒ«è‡ªä½“ã«ã¯å­¦ç¿’ã•ã›ãªã„ã€‚ã“ã‚Œã«ã‚ˆã‚Šãƒ‡ãƒ¼ã‚¿é‡ãŒå¢—å¤§ã—ã¦ã‚‚å†å­¦ç¿’ä¸è¦ã¨ã™ã‚‹ã€‚

---

## 4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆ (Schema)
Supabaseä¸Šã®ãƒ†ãƒ¼ãƒ–ãƒ« \`knowledge_base\` ã®å®šç¾©ã€‚

| ã‚«ãƒ©ãƒ å | å‹ | å½¹å‰²ãƒ»åˆ¶ç´„ |
| :--- | :--- | :--- |
| **id** | uuid | PK, Default: uuid_generate_v4() |
| **content** | text | ãƒãƒ‹ãƒ¥ã‚¢ãƒ«æœ¬æ–‡ï¼ˆãƒãƒ£ãƒ³ã‚¯åŒ–ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆï¼‰ã€‚AIã®å›ç­”ã‚½ãƒ¼ã‚¹ã€‚ |
| **embedding** | vector(768) | Geminiã®Embeddingãƒ¢ãƒ‡ãƒ«ã§ãƒ™ã‚¯ãƒˆãƒ«åŒ–ã—ãŸæ•°å€¤ãƒ‡ãƒ¼ã‚¿ã€‚ |
| **doc_type** | text | **[CORE]**æƒ…å ±ã®ç¨®é¡ã€‚ä¾‹: 'manual', 'rule', 'faq', 'template' |
| **visibility** | text | **[CORE]**é–²è¦§æ¨©é™ã€‚ä¾‹: 'all', 'manager', 'finance', 'admin' |
| **title** | text | å¼•ç”¨å…ƒã¨ã—ã¦è¡¨ç¤ºã™ã‚‹ã‚¿ã‚¤ãƒˆãƒ«ã€‚ |
| **image_url** | text | æ·»ä»˜ç”»åƒã®URLã€‚Slackè¡¨ç¤ºç”¨ã€‚ |
| **source_url** | text | åŸæœ¬ï¼ˆDocs/Sheetsï¼‰ã¸ã®ãƒªãƒ³ã‚¯ã€‚ |
| **valid_until** | date | æœ‰åŠ¹æœŸé™ã€‚æ¤œç´¢æ™‚ã«æœŸé™åˆ‡ã‚Œã‚’é™¤å¤–ã™ã‚‹ã€‚ |
| **created_at** | timestamptz | ä½œæˆæ—¥æ™‚ã€‚ |

---

## 5. å‡¦ç†ãƒ­ã‚¸ãƒƒã‚¯ (Logic Flow)
ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å—ä¿¡æ™‚ã®æŒ™å‹•ã€‚

1. **å—ä¿¡ (Receive):** Cloud RunãŒSlackã‚¤ãƒ™ãƒ³ãƒˆã‚’å—ä¿¡ã€‚
2. **æ„å›³è§£æ (Intent Classification):** - Geminiã«ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ„å›³ã¯æ¤œç´¢ã‹ï¼Ÿé›‘è«‡ã‹ï¼Ÿã€ã‚’å•ã„åˆã‚ã›ã‚‹ã€‚
   - æ¤œç´¢ã®å ´åˆã¯ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¨ãƒ•ã‚£ãƒ«ã‚¿æ¡ä»¶ï¼ˆdoc_typeç­‰ï¼‰ã‚’æŠ½å‡ºã€‚
3. **ãƒ•ã‚£ãƒ«ã‚¿æ¤œç´¢ (Filtered Search):** - Supabaseã«å¯¾ã—ã¦ã‚¯ã‚¨ãƒªã‚’å®Ÿè¡Œã€‚
   - \`WHERE doc_type = '...' AND visibility = '...'\` ã§çµã‚Šè¾¼ã‚“ã ä¸Šã§ã€ãƒ™ã‚¯ãƒˆãƒ«é¡ä¼¼åº¦æ¤œç´¢ã‚’è¡Œã†ã€‚
4. **å›ç­”ç”Ÿæˆ (Generation):** - æ¤œç´¢ã§ãƒ’ãƒƒãƒˆã—ãŸä¸Šä½ã®ãƒ†ã‚­ã‚¹ãƒˆ(content)ã¨ã€æŒ‡å®šã•ã‚ŒãŸä¸Šå¸ã®äººæ ¼ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’Geminiã«æ¸¡ã™ã€‚
   - ã€Œã“ã®æƒ…å ±ã‚’å…ƒã«ã€ã€‡ã€‡ä¸Šå¸ã¨ã—ã¦å›ç­”ã—ã¦ã€ã¨æŒ‡ç¤ºã€‚
5. **è¿”ä¿¡ (Response):** - ç”Ÿæˆã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆã¨ã€DBã‹ã‚‰å–å¾—ã—ãŸ image_url ã‚’Slackã«æŠ•ç¨¿ã™ã‚‹ã€‚

---

## 6. é‹ç”¨ãƒ»ãƒãƒ¼ãƒ ä½“åˆ¶
- **ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆã‚ªãƒ¼ãƒŠãƒ¼:** äººæ ¼å®šç¾©ã€æ¨©é™ãƒ«ãƒ¼ãƒ«ã®ç­–å®šã€‚
- **ãƒŠãƒ¬ãƒƒã‚¸ç®¡ç†è€…:** Google Sheets/Supabaseã¸ã®ãƒ‡ãƒ¼ã‚¿å…¥åŠ›ã€ç”»åƒã®åˆ‡ã‚Šå‡ºã—ãƒ»ä¿å­˜ã€‚
- **AIã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢:** Pythonã‚³ãƒ¼ãƒ‰ä¿å®ˆã€ã‚¤ãƒ³ãƒ•ãƒ©ç›£è¦–ã€‚

---

## 7. é–‹ç™ºãƒ•ã‚§ãƒ¼ã‚º (Roadmap)
- Phase 0: ç’°å¢ƒæ§‹ç¯‰ (GCP, Supabase, Slack)
- Phase 1: ã‚ªã‚¦ãƒ è¿”ã—Bot (Cloud Runç–é€š)
- Phase 2: Geminié€£æº (é›‘è«‡ã®å®Ÿè£…)
- Phase 3: Supabaseé€£æº (DBä½œæˆãƒ»ãƒ‡ãƒ¼ã‚¿æŠ•å…¥)
- Phase 4: RAGå®Ÿè£… (æ¤œç´¢ãƒ­ã‚¸ãƒƒã‚¯)
- Phase 5: äººæ ¼ãƒ»ç”»åƒé€£æº (å®Œæˆ)
`;

    function copySpecs() {
        navigator.clipboard.writeText(fullSpecs).then(function() {
            var toast = document.getElementById("toast");
            toast.className = "show";
            setTimeout(function(){ toast.className = toast.className.replace("show", ""); }, 3000);
        }, function(err) {
            alert('ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ: ' + err);
        });
    }

    // --- TAB SWITCHING ---
    function switchTab(tabId) {
        // Toggle Sections
        document.querySelectorAll('.main-section').forEach(el => el.classList.remove('active'));
        document.getElementById('section-' + tabId).classList.add('active');
        
        // Toggle Buttons
        const buttons = document.querySelectorAll('.nav-btn');
        buttons.forEach(btn => {
            if(btn.textContent.toLowerCase().includes(tabId)) {
                btn.classList.add('active');
                btn.classList.remove('inactive');
            } else {
                btn.classList.remove('active');
                btn.classList.add('inactive');
            }
        });
    }

    // --- PROGRESS LOGIC ---
    const checkboxes = document.querySelectorAll('.custom-checkbox');
    const totalTasks = checkboxes.length;
    const progressCircle = document.getElementById('progressCircle');
    const percentText = document.getElementById('percentText');
    const radius = 70;
    const circumference = 2 * Math.PI * radius;

    function loadState() {
        const savedState = JSON.parse(localStorage.getItem('aiBossProgress'));
        if (savedState) {
            checkboxes.forEach((cb, index) => {
                cb.checked = savedState[index];
                if(cb.checked) cb.closest('.task-item').classList.add('completed');
            });
        }
        updateProgress(false);
    }

    function saveState() {
        const state = Array.from(checkboxes).map(cb => cb.checked);
        localStorage.setItem('aiBossProgress', JSON.stringify(state));
    }

    function updateProgress(shouldSave = true) {
        let completedTasks = 0;
        checkboxes.forEach(cb => {
            if (cb.checked) {
                completedTasks++;
                cb.closest('.task-item').classList.add('completed');
            } else {
                cb.closest('.task-item').classList.remove('completed');
            }
        });

        const percentage = Math.round((completedTasks / totalTasks) * 100);
        percentText.innerText = percentage + '%';
        const offset = circumference - (percentage / 100) * circumference;
        progressCircle.style.strokeDashoffset = offset;

        if (shouldSave) saveState();
    }

    loadState();
</script>

</body>
</html>
